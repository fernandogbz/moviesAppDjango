{% extends 'base.html' %} {% load static %} {% block title %}Inicio - Movies
App{% endblock %} {% block content %}
<!-- Hero Section -->
<section class="hero-section">
  <div class="container text-center">
    <h1 class="hero-title">¡Bienvenido a Movies App!</h1>
    <p class="hero-subtitle">
      Descubre, califica y comparte tu opinión sobre las mejores películas
    </p>
    <div class="mt-4">
      <a href="{% url 'pelicula_list' %}" class="btn btn-light btn-lg me-3">
        <i class="bi bi-camera-reels"></i> Explorar Películas
      </a>
      <a href="{% url 'ranking' %}" class="btn btn-outline-light btn-lg">
        <i class="bi bi-trophy"></i> Ver Ranking
      </a>
    </div>
  </div>
</section>

<!-- Películas Destacadas -->
<div class="container my-5">
  <div class="text-center mb-5">
    <h2 class="display-5 fw-bold">Películas Mejor Calificadas</h2>
    <p class="lead">
      Las películas con mejor puntuación de nuestros usuarios
    </p>
  </div>

  {% if peliculas_destacadas %}
  <div class="row">
    {% for pelicula in peliculas_destacadas %}
    <div class="col-lg-4 col-md-6 mb-4">
      <div class="card movie-card h-100">
        {% if pelicula.poster %}
        <img
          src="{{ pelicula.poster.url }}"
          class="card-img-top movie-poster"
          alt="{{ pelicula.titulo }}"
        />
        {% else %}
        <div class="card-img-placeholder">
          <i class="bi bi-camera-reels"></i>
        </div>
        {% endif %}

        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ pelicula.titulo }}</h5>
          <p class="card-text flex-grow-1">
            {{ pelicula.descripcion|truncatewords:20 }}
          </p>

          <div class="d-flex justify-content-between align-items-center">
            <div class="rating-display">
              {% if pelicula.get_average_rating > 0 %}
                  <i class="bi bi-star-fill rating-stars"></i> {{ pelicula.get_average_rating|floatformat:1 }}
                  <small class="text-muted">({{ pelicula.get_total_reviews }})</small>
              {% else %}
                  <span class="text-muted">Sin calificación</span>
              {% endif %}
            </div>
            <small class="text-muted">{{ pelicula.fechaEstreno.year }}</small>
          </div>

          <div class="mt-3">
            <a
              href="{% url 'pelicula_detail' pelicula.pk %}"
              class="btn btn-primary w-100"
            >
              <i class="bi bi-eye"></i> Ver Detalles
            </a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="text-center py-5">
    <i class="bi bi-film display-1 text-muted"></i>
    <h3 class="mt-3">No hay películas aún</h3>
    <p class="text-muted">
      El administrador debe agregar películas al catálogo.
    </p>
  </div>
  {% endif %}
</div>

<!-- Features Section -->
<div class=" py-5">
  <div class="container">
    <div class="row text-center">
      <div class="col-md-4 mb-4">
        <div class="card info-card h-100">
          <div class="card-body">
            <i class="bi bi-search display-4 text-primary mb-3"></i>
            <h5 class="card-title">Explora Películas</h5>
            <p class="card-text">
              Descubre una amplia colección de películas de todos los géneros y
              épocas.
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-4 mb-4">
        <div class="card info-card h-100">
          <div class="card-body">
            <i class="bi bi-star-fill display-4 text-warning mb-3"></i>
            <h5 class="card-title">Califica y Reseña</h5>
            <p class="card-text">
              Comparte tu opinión y ayuda a otros a descubrir grandes películas.
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-4 mb-4">
        <div class="card info-card h-100">
          <div class="card-body">
            <i class="bi bi-trophy-fill display-4 text-success mb-3"></i>
            <h5 class="card-title">Rankings</h5>
            <p class="card-text">
              Consulta los rankings de las películas mejor valoradas por la
              comunidad.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Call to Action -->
{% if not user.is_authenticated %}
<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-8 text-center">
      <div class="card bg-primary text-white">
        <div class="card-body py-5">
          <h3><i class="bi bi-person-plus"></i> ¡Únete a Nuestra Comunidad!</h3>
          <p class="lead">
            Regístrate para calificar películas, escribir reseñas y descubrir
            nuevos favoritos.
          </p>
          <div class="mt-4">
            <a href="{% url 'register' %}" class="btn btn-light btn-lg me-3">
              <i class="bi bi-person-plus"></i> Registrarse Gratis
            </a>
            <a href="{% url 'login' %}" class="btn btn-outline-light btn-lg">
              <i class="bi bi-box-arrow-in-right"></i> Iniciar Sesión
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endif %} {% endblock %}
